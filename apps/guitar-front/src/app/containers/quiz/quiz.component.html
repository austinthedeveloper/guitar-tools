<div class="container">
  <h2>Quiz</h2>
  <mat-form-field class="w-50 me-3">
    <mat-label>Quiz Types</mat-label>
    <mat-select
      [formControl]="activeQuizzes"
      (selectionChange)="randomizeQuiz()"
      multiple
    >
      <mat-select-trigger>
        {{ activeQuizzes.value?.length || 0 }} Types
      </mat-select-trigger>
      @for (item of quizItems; track item) {
      <mat-option [value]="item.value">{{ item.key }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <button
    type="button"
    class="btn btn-secondary clear-button"
    (click)="onClear()"
  >
    Clear
  </button>
  <button
    type="button"
    class="btn btn-secondary reset-button"
    (click)="onReset()"
  >
    Reset
  </button>
  <guitar-quiz-totals
    [correct]="correct.value"
    [incorrect]="incorrect.value"
  ></guitar-quiz-totals>
  <guitar-card [header]="activeType.value">
    @switch (activeValue.value) { @case ('sorting') {

    <guitar-mode-ordering-quiz
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-mode-ordering-quiz>

    } @case ('relativeMinor') {

    <guitar-relative-minor-quiz
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-relative-minor-quiz>

    } @case ('relativeMajor') {

    <guitar-relative-major-quiz
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-relative-major-quiz>

    } @case ('modeName') {

    <guitar-mode-name-quiz
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-mode-name-quiz>

    } @case ('mode') {

    <guitar-mode-quiz
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-mode-quiz>

    } @case ('chord') {

    <guitar-chord-quiz
      [chords]="chords"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-chord-quiz>

    } @case ('triads') {

    <guitar-chord-quiz
      [chords]="triads"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-chord-quiz>

    } @case ('triadsMinor') {

    <guitar-chord-quiz
      [chords]="triadsMinor"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-chord-quiz>

    } @case ('triadsAugmented') {

    <guitar-chord-quiz
      [chords]="triadsAugmented"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-chord-quiz>

    } @case ('triadsDiminished') {

    <guitar-chord-quiz
      [chords]="triadsDiminished"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-chord-quiz>

    } @case ('specificTriads') {

    <guitar-specific-note
      [chords]="triads"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-specific-note>

    } @case ('scale') {

    <guitar-scale-quiz
      [tuning]="tuning$ | async"
      [tuningChart]="tuningChart$ | async"
      [frets]="frets$ | async"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-scale-quiz>

    } @case ('triadsNoteOrder') {

    <guitar-triad-note-order
      [chords]="triads"
      (correct)="onCorrect()"
      (incorrect)="onIncorrect()"
    ></guitar-triad-note-order>

    } }
  </guitar-card>
</div>
