<div class="chart-tab container">
  <div class="row">
    @for (column of built; track column; let i = $index) {
    <div class="chart-row" [ngStyle]="{ width: colWidth }">
      @for (fret of column; track fret; let fi = $index) {
      <div class="row fret">
        <div class="col p-0 text-center">
          @if (tabs | tabStringType: i:fi; as activePress) {
          <div
            class="badge rounded-pill bg-primary text-light fret-active-press"
            (click)="setActive(activePress)"
          >
            {{ activePress.position }}
          </div>
          } @else {

          <div
            class="badge rounded-pill bg-info text-light fret-active-press fret-active-new"
            (click)="setActiveNew(i, fi)"
          >
            Add
          </div>

          }
        </div>
      </div>
      }
    </div>
    }
  </div>
</div>
<form [formGroup]="form">
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Position"
      formControlName="position"
    />
    <button
      class="btn btn-primary"
      (click)="save(form.value)"
      [disabled]="form.invalid || form.pristine"
    >
      Save
    </button>
  </div>
</form>
<!-- <pre>{{form.value | json}}</pre>
<pre>{{tabs | json}}</pre> -->
